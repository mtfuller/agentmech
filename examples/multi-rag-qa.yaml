name: "Multi-RAG Q&A System"
description: "Answer questions using multiple RAG configurations for different knowledge bases"
default_model: "gemma3:4b"
start_state: "choose_topic"

# Named RAG configurations - each with its own knowledge base
rags:
  product_kb:
    directory: "./examples/knowledge-base"
    model: "gemma3:4b"
    embeddings_file: "product_embeddings.msgpack"
    storage_format: "msgpack"
    chunk_size: 500
    top_k: 3
  
  technical_kb:
    directory: "./examples/knowledge-base"
    model: "gemma3:4b"
    embeddings_file: "technical_embeddings.msgpack"
    storage_format: "msgpack"
    chunk_size: 800
    top_k: 5

states:
  choose_topic:
    type: "input"
    prompt: "What would you like to know about? (product, technical, general)"
    save_as: "topic"
    next: "product_question"
  
  product_question:
    type: "prompt"
    prompt: "Tell me about the features and pricing of AI Workflow CLI"
    use_rag: "product_kb"  # Use named RAG configuration
    save_as: "answer"
    next: "ask_another"
  
  technical_question:
    type: "prompt"
    prompt: "How do I install AI Workflow CLI and what are common use cases?"
    use_rag: "technical_kb"  # Use different named RAG configuration
    save_as: "answer"
    next: "ask_another"
  
  general_question:
    type: "prompt"
    prompt: "Provide a general overview of AI Workflow CLI"
    # No RAG - just use the model's knowledge
    save_as: "answer"
    next: "ask_another"
  
  ask_another:
    type: "input"
    prompt: "Would you like to ask another question? (yes/no)"
    save_as: "continue_answer"
    next: "end"
  
